# 更新日誌

所有重要的變更都會記錄在此文件中。

## [1.2.1] - 2026-01-17

### 🐛 錯誤修復

- 🐛 修復資料表不存在的錯誤
  - 新增資料表存在檢查
  - 提供手動建立資料表按鈕
  - 改善錯誤提示訊息

- 🐛 修復按鈕無法點擊問題
  - 增加z-index設定
  - 修正pointer-events設定
  - 確保所有按鈕可正常點擊

### 🎨 UI優化

- ✨ **新增簡約風格模式**
  - 全新的簡約版CSS（frontend-minimal.css）
  - 去除過多裝飾和動畫
  - 更清爽的視覺設計
  - 載入速度更快
  - 可在設定中切換

### 📦 新增功能

- ✨ 插件啟用器類別（class-activator.php）
- ✨ 資料表檢查與修復功能
- ✨ 預設選項自動設定

### ⚙️ 設定選項

- ⚙️ 新增「使用簡約風格」開關
- ⚙️ 預設啟用簡約風格（建議）

## [1.2.0] - 2026-01-17

### 🎉 重大新功能

#### 😊 表情符號支援
- ✨ 新增完整的表情符號選擇器
- ✨ 6大分類：笑臉、手勢、愛心、物品、符號、自然
- ✨ 144+ emoji供選擇
- ✨ 支援在光標位置插入
- ✨ 響應式網格佈局

#### ⚡ 快速回覆範本系統
- ✨ 後台可管理快速回覆範本
- ✨ 支援範本分類（一般、問候、資訊、技術支援）
- ✨ 支援快捷指令（如 /hello）
- ✨ 預設5個常用範本
- ✨ 可自訂排序
- ✨ 對話頁面一鍵插入範本

#### 🔍 訊息搜尋功能
- ✨ 全文搜尋客戶姓名
- ✨ 搜尋Email地址
- ✨ 搜尋電話號碼
- ✨ 搜尋訊息內容
- ✨ 即時顯示搜尋結果數量

### 🎨 UI/UX優化

- 🎨 標題文字改為白色，更清晰可讀
- 🎨 手機版頂部增加安全區域留白
- 🎨 發送按鈕加大（桌面48px，手機52px）
- 🎨 手機版按鈕圖示也加大
- 🎨 改善手機版最大高度計算

### 📱 響應式改進

- 📱 手機版對話框頂部留白20px
- 📱 支援iOS安全區域（safe-area-inset）
- 📱 表情符號選擇器手機版優化
- 📱 快速回覆按鈕自動換行

### 🗄️ 資料庫

- 🗄️ 新增快速回覆範本資料表
- 🗄️ 自動插入預設範本
- 🗄️ 完整的CRUD API

### 📚 文檔

- 📚 新增功能建議清單（40+個功能idea）
- 📚 更新README，加入徽章和功能展示
- 📚 詳細的功能說明和版本規劃

### 🔧 技術改進

- 🔧 優化搜尋查詢效能
- 🔧 改善資料庫索引
- 🔧 程式碼模組化

## [1.1.0] - 2026-01-17

### 新增功能
- ✨ **電子信箱必填**：首次使用時必須輸入Email地址
- ✨ **表單欄位標籤**：新增帶有圖示的表單標籤，提升用戶體驗
- ✨ **Email記憶功能**：儲存客戶Email到localStorage，方便下次使用

### UI/UX 優化
- 🎨 **LINE風格設計**：標題列使用漸層色彩，更貼近LINE風格
- 🎨 **訊息氣泡改善**：加強陰影效果和邊框設計
- 🎨 **輸入框優化**：改善輸入框樣式，添加聚焦動畫效果
- 🎨 **按鈕特效**：發送按鈕添加脈衝動畫和懸停效果
- 🎨 **線上狀態指示**：添加閃爍的線上狀態指示燈
- 🎨 **客戶資訊表單美化**：表單區塊添加背景色和邊框設計

### 動畫效果
- ⚡ 訊息彈跳進入動畫
- ⚡ 輸入框聚焦光暈效果
- ⚡ 發送按鈕脈衝動畫
- ⚡ 未讀徽章跳動效果
- ⚡ 圖示脈衝動畫
- ⚡ 狀態燈閃爍效果
- ⚡ 新增 animations.css 提供額外動畫選項

### 改進
- 📱 優化行動裝置顯示效果
- 🎯 改善對話框陰影效果，更有層次感
- 🔤 優化字體大小和行高，提升可讀性
- 🎨 聊天背景添加微妙紋理

### 技術改進
- 💾 改善localStorage處理邏輯
- 🔍 優化表單驗證流程
- 📝 改善程式碼註解

## [1.0.0] - 2026-01-17

### 新增功能
- ✨ 初始版本發布
- ✨ 前台對話框功能
  - 浮動對話框按鈕
  - 客戶資訊收集（姓名、Email、電話）
  - 即時訊息發送
  - 自動輪詢新回覆
  - 對話記錄保存
  - 響應式設計支援

- ✨ 後台管理功能
  - 對話列表頁面
  - 對話詳情頁面
  - 訊息回覆功能
  - 未讀訊息提示
  - 客戶資訊顯示

- ✨ Discord通知整合
  - Webhook設定
  - 新訊息自動通知
  - 豐富的嵌入訊息格式
  - 直接連結到後台的按鈕
  - 連接測試功能

- ✨ 自訂設定
  - 對話框標題自訂
  - 必填欄位設定
  - 對話框位置選擇
  - 主題顏色自訂
  - 提示文字自訂

- ✨ 開發者友善
  - 完整的程式碼註解
  - 模組化架構
  - 安全的資料處理
  - WordPress最佳實踐

### 技術規格
- PHP 7.2+ 支援
- WordPress 5.0+ 相容
- MySQL 5.6+ 支援
- 響應式設計
- 無障礙設計考量

### 安全性
- WordPress nonce 驗證
- 資料sanitize處理
- SQL prepared statements
- XSS防護
- CSRF防護

---

## 未來計畫

### [1.1.0] - 計畫中
- [ ] 訊息匯出功能（CSV/PDF）
- [ ] 訊息搜尋功能
- [ ] 客戶黑名單功能
- [ ] 自動回覆功能
- [ ] 快速回覆範本
- [ ] 訊息標籤分類

### [1.2.0] - 考慮中
- [ ] 多語言支援
- [ ] Email通知功能
- [ ] 檔案附件上傳
- [ ] 表情符號支援
- [ ] 訊息已讀狀態
- [ ] 管理員上線狀態

### [2.0.0] - 長期計畫
- [ ] WebSocket即時通訊
- [ ] 多管理員協作
- [ ] 行動APP支援
- [ ] AI自動回覆
- [ ] 統計報表功能
- [ ] CRM整合

---

## 版本編號說明

版本格式：`主要版本.次要版本.修補版本`

- **主要版本**：重大變更或架構調整
- **次要版本**：新功能或重要改善
- **修補版本**：錯誤修正或小幅調整

---

## 貢獻指南

如果您想為此專案做出貢獻，請：

1. Fork此專案
2. 建立功能分支 (`git checkout -b feature/AmazingFeature`)
3. 提交變更 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 開啟Pull Request

---

*最後更新：2026-01-17*
